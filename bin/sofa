#!/usr/bin/ruby
require 'rubygems'
begin
  require 'sofaskull'
rescue LoadError
  require File.expand_path(File.dirname(__FILE__)+'/../lib/sofaskull')
end

input = if ARGV[0]
  File.read(ARGV[0])
else
  $stdin.read
end
s = SofaSkull::Program.new(input)
s.run
puts s.result